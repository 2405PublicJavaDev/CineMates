<!DOCTYPE html>
<!-- Default Layout Import-->
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{common/layout/defaultLayout}"
      layout:fragment="Content">
<link rel="stylesheet" href="/css/movie/movieList.css">

<body>
<div layout:fragment="content">
    <!-- 여기에 기존의 main 태그 내용을 넣습니다 -->
    <div class="banner-wrapper">
        <div class="banner-container">
            <div class="banner active">
                <img src="./img/banner/AmazonBullseye_19204202.jpg" alt="배너 1" />
            </div>
            <div class="banner">
                <img src="./img/banner/GrandMa_1920420.jpg" alt="배너 2" />
            </div>
            <div class="banner">
                <img src="./img/banner/MyLovelyPartner_19204203.jpg" alt="배너 3" />
            </div>
            <div class="banner">
                <img src="./img/banner/MyPet_1920420.jpg" alt="배너 4" />
            </div>
            <div class="banner">
                <img src="./img/banner/MyPet_1920420.jpg" alt="배너 5" />
            </div>
        </div>
        <div class="banner-nav prev">&#10094;</div>
        <div class="banner-nav next">&#10095;</div>
        <div class="banner-dots"></div>
    </div>
    <div class="container">
        <div class="movie-section">
            <div class="section-title">현재 상영작</div>
            <div class="movie-list">
                <div class="movie-poster">
                    <div class="poster-image">
                        <img src="./img/poster/21394_103_1.jpg" alt="베테랑2" />
                    </div>
                    <div class="movie-info">
                        <div class="title-container">
                            <img class="age-rating" src="./img/15.svg" alt="15세 이상" />
                            <div class="movie-title">베테랑2</div>
                        </div>
                        <div class="movie-details">
                            <span class="booking-rate">예매율 21.8%</span>
                            <span>|</span>
                            <span>2024.10.01 개봉</span>
                        </div>
                        <button class="booking-button">예매</button>
                    </div>
                </div>

                <div class="movie-poster">
                    <div class="poster-image">
                        <img src="./img/poster/19612_103_1.jpg" alt="베테랑2" />
                    </div>
                    <div class="movie-info">
                        <div class="title-container">
                            <img class="age-rating" src="./img/15.svg" alt="15세 이상" />
                            <div class="movie-title">베테랑2</div>
                        </div>
                        <div class="movie-details">
                            <span class="booking-rate">예매율 21.8%</span>
                            <span>|</span>
                            <span>2024.10.01 개봉</span>
                        </div>
                        <button class="booking-button">예매</button>
                    </div>
                </div>

                <div class="movie-poster">
                    <div class="poster-image">
                        <img src="./img/poster/20983_103_1.jpg" alt="베테랑2" />
                    </div>
                    <div class="movie-info">
                        <div class="title-container">
                            <img class="age-rating" src="./img/15.svg" alt="15세 이상" />
                            <div class="movie-title">베테랑2</div>
                        </div>
                        <div class="movie-details">
                            <span class="booking-rate">예매율 21.8%</span>
                            <span>|</span>
                            <span>2024.10.01 개봉</span>
                        </div>
                        <button class="booking-button">예매</button>
                    </div>
                </div>

                <div class="movie-poster">
                    <div class="poster-image">
                        <img src="./img/poster/21418_103_1.jpg" alt="베테랑2" />
                    </div>
                    <div class="movie-info">
                        <div class="title-container">
                            <img class="age-rating" src="./img/15.svg" alt="15세 이상" />
                            <div class="movie-title">베테랑2</div>
                        </div>
                        <div class="movie-details">
                            <span class="booking-rate">예매율 21.8%</span>
                            <span>|</span>
                            <span>2024.10.01 개봉</span>
                        </div>
                        <button class="booking-button">예매</button>
                    </div>
                </div>

                <div class="movie-poster">
                    <div class="poster-image">
                        <img src="./img/poster/21476_103_1.jpg" alt="베테랑2" />
                    </div>
                    <div class="movie-info">
                        <div class="title-container">
                            <img class="age-rating" src="./img/15.svg" alt="15세 이상" />
                            <div class="movie-title">베테랑2</div>
                        </div>
                        <div class="movie-details">
                            <span class="booking-rate">예매율 21.8%</span>
                            <span>|</span>
                            <span>2024.10.01 개봉</span>
                        </div>
                        <button class="booking-button">예매</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<th:block layout:fragment="script">
    <!--     여기에 기존의 script 내용을 넣습니다-->
    <script>
        let currentBanner = 0;
        const banners = document.querySelectorAll('.banner');
        const prevBtn = document.querySelector('.banner-nav.prev');
        const nextBtn = document.querySelector('.banner-nav.next');
        const dotsContainer = document.querySelector('.banner-dots');

        function showBanner(index) {
            banners[currentBanner].classList.remove('active');
            banners[index].classList.add('active');
            updateDots(index);
            currentBanner = index;
        }

        function showNextBanner() {
            showBanner((currentBanner + 1) % banners.length);
        }

        function showPrevBanner() {
            showBanner((currentBanner - 1 + banners.length) % banners.length);
        }

        function updateDots(index) {
            const dots = document.querySelectorAll('.banner-dot');
            dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === index);
            });
        }

        // 배너 점 생성
        banners.forEach((_, i) => {
            const dot = document.createElement('div');
            dot.classList.add('banner-dot');
            if (i === 0) dot.classList.add('active');
            dot.addEventListener('click', () => showBanner(i));
            dotsContainer.appendChild(dot);
        });

        prevBtn.addEventListener('click', showPrevBanner);
        nextBtn.addEventListener('click', showNextBanner);

        setInterval(showNextBanner, 5000); // 5초마다 배너 변경
    </script>
</th:block>
</body>
</html>