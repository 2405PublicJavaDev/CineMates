<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.filmfellows.cinemates.domain.reservation.model.mapper.ReservationMapper">
    <select id="showReservationPage" resultType="Reservation">
        SELECT
            *
        FROM
            RESERVATION_TBL
                JOIN CINEMA_TBL USING(CINEMA_NO)
                JOIN MOVIE_TBL USING(MOVIE_NO)
                JOIN SCREEN_TBL USING(SCREEN_NO)
                JOIN SHOWTIME_TBL USING(SHOWTIME_NO)
    </select>
    <insert id="insertReservationInfo">
        INSERT INTO RESERVATION_TBL VALUES(#{reservationNo},#{reservationVisitor},#{reservationSeat},#{paymentMethod},DEFAULT,#{movieNo},#{memberId},#{screenNo},#{showTimeNo},#{cinemaNo})
    </insert>

    <insert id="insertReservationInfo2">
        INSERT INTO RESERVATION_TBL VALUES(#{reservationNo},#{reservationVisitor},#{reservationSeat},DEFAULT,#{movieNo},#{memberId},#{screenNo},#{showTimeNo},#{cinemaNo},#{titleKor},#{screenName},#{cinemaName})
    </insert>
</mapper>